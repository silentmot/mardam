function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var a=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{zcCz:function(e,t,n){"use strict";n.r(t),n.d(t,"InspectorModule",(function(){return Se}));var i,a=n("ofXK"),r=n("PCNd"),o=n("tyNb"),s=n("ey9i"),l=n("LMle"),c=n("2JTG"),p=n("DaQp"),d=n("5oty"),u=n("wbvY"),f=n("ZEsB"),m=n("fXoL"),v=n("tk/3"),x=((i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r,o,s){var l;return _classCallCheck(this,n),(l=t.call(this,e,i,a,r)).toArabic=o,l.httpClient=s,l.searchKey="keyword",l.permissionsKey="device",l.customData.tabs=[{name:"current-violation",filter:"status",value:"REPORTED",to:"/inspector/violations-current"},{name:"all-violation",filter:"status",value:"PENALTY-APPROVED",to:"/inspector/violations-all"}],l}return _createClass(n,[{key:"routerPrefix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e||"violations"}},{key:"getData",value:function(e){return this.api.get(e)}},{key:"acceptViolation",value:function(e,t){return this.httpClient.patch(e,t)}},{key:"doPenalty",value:function(e,t){return this.httpClient.post(e,t)}},{key:"featureProps",get:function(){return[]}}]),n}(c.a)).\u0275fac=function(e){return new(e||i)(m["\u0275\u0275inject"](o.d),m["\u0275\u0275inject"](p.a),m["\u0275\u0275inject"](d.a),m["\u0275\u0275inject"](u.a),m["\u0275\u0275inject"](f.a),m["\u0275\u0275inject"](v.b))},i.\u0275prov=m["\u0275\u0275defineInjectable"]({token:i,factory:i.\u0275fac,providedIn:"root"}),i),g=n("MPZN"),h=n("0IaG"),y=n("sYmb");function b(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"p",4),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){var n=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"]("\n  ",n.details,"\n")}}function C(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"img",7),m["\u0275\u0275listener"]("error",(function(e){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"](2).onImgError(e)}))("click",(function(){m["\u0275\u0275restoreView"](n);var e=t.$implicit;return m["\u0275\u0275nextContext"](2).viewImg(e)})),m["\u0275\u0275elementEnd"]()}2&e&&m["\u0275\u0275property"]("src",t.$implicit,m["\u0275\u0275sanitizeUrl"])}function _(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",5),m["\u0275\u0275text"](1,"\n  "),m["\u0275\u0275template"](2,C,1,1,"img",6),m["\u0275\u0275text"](3,"\n"),m["\u0275\u0275elementEnd"]()),2&e){var n=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngForOf",n.images)}}var O,w,P=((O=function(){function e(t,n){_classCallCheck(this,e),this.service=t,this.dialog=n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onImgError",value:function(e){e.target.src="assets/images/placeholder-image.png"}},{key:"viewImg",value:function(e){this.dialog.open(g.a,{width:"60%",data:e})}}]),e}()).\u0275fac=function(e){return new(e||O)(m["\u0275\u0275directiveInject"](x),m["\u0275\u0275directiveInject"](h.b))},O.\u0275cmp=m["\u0275\u0275defineComponent"]({type:O,selectors:[["app-description-violations"]],inputs:{header:"header",details:"details",images:"images"},decls:10,vars:7,consts:[[1,"description-header"],["class","description-content",4,"ngIf"],["class","description-images",4,"ngIf"],[1,"line"],[1,"description-content"],[1,"description-images"],["width","120","height","120",3,"src","error","click",4,"ngFor","ngForOf"],["width","120","height","120",3,"src","error","click"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"p",0),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](3,"\n\n"),m["\u0275\u0275template"](4,b,2,1,"p",1),m["\u0275\u0275text"](5,"\n\n"),m["\u0275\u0275template"](6,_,4,1,"div",2),m["\u0275\u0275text"](7,"\n\n"),m["\u0275\u0275element"](8,"div",3),m["\u0275\u0275text"](9,"\n")),2&e&&(m["\u0275\u0275classProp"]("danger","penalty"===t.header),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](2,5,t.service.cid+"."+t.header)),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",t.details),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",null==t.images?null:t.images.length))},directives:[a.t,a.s],pipes:[y.c],styles:[".description-header[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#707070}.description-content[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:20px;border-radius:5px;word-wrap:break-word}.line[_ngcontent-%COMP%]{border:1px solid #707070;width:100%;opacity:.3;margin-bottom:20px}.description-images[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.description-images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:1px;cursor:pointer}.danger[_ngcontent-%COMP%]{color:red}"]}),O),k=n("wd/R"),I=n("GJmQ"),S=n("wO+i"),j=n("lJxs"),E=((w=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,i,a,r)).toArabic=o,s.searchKey="keyword",s.permissionsKey="device",s}return _createClass(n,[{key:"routerPrefix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e||"violations-current"}},{key:"apiRouterPrefix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e||"mob/admin/tickets"}},{key:"refactorItem",value:function(e){return e}},{key:"refactorFormBeforeSubmit",value:function(e){return e}},{key:"listPrepareOperations",value:function(e){var t=this;return _get(_getPrototypeOf(n.prototype),"listPrepareOperations",this).call(this,e),e.data.forEach((function(e){var n=new Date(e.created_at),i=k(n).format("hh:mm"),a=k(n).format("DD/MM/YYYY");a=a.split("/").reverse().join("/"),e.created_at=""+t.toArabic.transform(a),e.time=""+t.toArabic.transform(i)})),e}},{key:"featureProps",get:function(){return[{name:"district_name",prop:"district_name",list:{sortable:!0,searchable:!0,filterFieldType:"text",cellInnerCssClass:"arabicFont",action:{name:"showPermissionsDetails"}}},{name:"neighborhood_name",prop:"neighborhood_name",list:{sortable:!0,searchable:!0,filterFieldType:"text"}},{name:"created_at",prop:"created_at",list:{sortable:!0,searchable:!0,cellCssClass:"white-space",filterFieldType:"text"}},{name:"time",prop:"time",list:{sortable:!0,searchable:!0,cellCssClass:"ltr",filterFieldType:"text"}},{name:"contractor_name",prop:"contractor_name",list:{sortable:!0,searchable:!0,filterFieldType:"text"}},{name:"inspector_name",prop:"inspector_name",list:{sortable:!0,searchable:!0,filterFieldType:"text"}}]}}]),n}(c.a)).\u0275fac=function(e){return new(e||w)(m["\u0275\u0275inject"](o.d),m["\u0275\u0275inject"](p.a),m["\u0275\u0275inject"](d.a),m["\u0275\u0275inject"](u.a),m["\u0275\u0275inject"](f.a))},w.\u0275prov=m["\u0275\u0275defineInjectable"]({token:w,factory:w.\u0275fac,providedIn:"root"}),w),F=n("5eHb"),M=n("NFeN"),D=n("znSr"),L=n("bTqV"),A=n("kmnG"),T=n("qFsG"),V=n("3Pt+"),R=n("Xa2L");function z(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"p"),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementStart"](3,"span",14),m["\u0275\u0275text"](4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](5,"\n      "),m["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"]("\n        ",m["\u0275\u0275pipeBind1"](2,2,i.service.cid+".details."+(null==n?null:n.name)),"\n        "),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](i.response[n.value])}}function N(e,t){if(1&e&&m["\u0275\u0275element"](0,"app-description-violations",15),2&e){var n=m["\u0275\u0275nextContext"](2);m["\u0275\u0275property"]("header","violations")("details",null==n.response?null:n.response.violation.details)("images",null==n.response||null==n.response.violation?null:n.response.violation.images)}}function Y(e,t){if(1&e&&m["\u0275\u0275element"](0,"app-description-violations",15),2&e){var n=m["\u0275\u0275nextContext"](2);m["\u0275\u0275property"]("header","response")("details",null==n.response?null:n.response.response.details)("images",null==n.response||null==n.response.response?null:n.response.response.images)}}function B(e,t){if(1&e&&m["\u0275\u0275element"](0,"app-description-violations",15),2&e){var n=m["\u0275\u0275nextContext"](2);m["\u0275\u0275property"]("header","penalty")("details",null==n.response?null:n.response.penalty.details)("images",null==n.response||null==n.response.penalty?null:n.response.penalty.images)}}var G=function(){return{color:" #3f2986"}};function K(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275text"](1,"\n        "),m["\u0275\u0275elementStart"](2,"div",17),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"](3).showTextArea()})),m["\u0275\u0275text"](3,"\n          "),m["\u0275\u0275element"](4,"mat-icon",18),m["\u0275\u0275text"](5,"\n          "),m["\u0275\u0275elementStart"](6,"span"),m["\u0275\u0275text"](7),m["\u0275\u0275pipe"](8,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](9,"\n        "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](10,"\n      "),m["\u0275\u0275elementContainerEnd"]()}2&e&&(m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngStyle",m["\u0275\u0275pureFunction0"](4,G)),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](8,2,"violations-current.back")))}function H(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275text"](1,"\n        "),m["\u0275\u0275elementStart"](2,"button",19),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"](3).doActions("accept")})),m["\u0275\u0275text"](3),m["\u0275\u0275pipe"](4,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](5,"\n        "),m["\u0275\u0275elementStart"](6,"button",20),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"](3).showTextArea()})),m["\u0275\u0275text"](7),m["\u0275\u0275pipe"](8,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](9,"\n      "),m["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=m["\u0275\u0275nextContext"](3);m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("disabled",i.doPenalty),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"]("\n          ",m["\u0275\u0275pipeBind1"](4,3,"violations-all.accept"),"\n        "),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate1"]("\n          ",m["\u0275\u0275pipeBind1"](8,5,"violations-all.doPenaltiy"),"\n        ")}}function J(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",25),m["\u0275\u0275text"](1,"\n          "),m["\u0275\u0275elementStart"](2,"button",26),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"](4).doActions("penalty")})),m["\u0275\u0275text"](3),m["\u0275\u0275pipe"](4,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](5,"\n          "),m["\u0275\u0275text"](6,"\n        "),m["\u0275\u0275elementEnd"]()}if(2&e){var i=m["\u0275\u0275nextContext"](4);m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("disabled",!i.text.length),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"]("\n            ",m["\u0275\u0275pipeBind1"](4,2,"violations-all.save"),"\n          ")}}function $(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",21),m["\u0275\u0275text"](1,"\n        "),m["\u0275\u0275elementStart"](2,"mat-form-field",22),m["\u0275\u0275text"](3,"\n          "),m["\u0275\u0275elementStart"](4,"mat-label"),m["\u0275\u0275text"](5,"\n            "),m["\u0275\u0275elementStart"](6,"span"),m["\u0275\u0275text"](7),m["\u0275\u0275pipe"](8,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](9,"\n          "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](10,"\n          "),m["\u0275\u0275elementStart"](11,"textarea",23),m["\u0275\u0275listener"]("ngModelChange",(function(e){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"](3).text=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](12,"\n        "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](13,"\n\n        "),m["\u0275\u0275template"](14,J,7,4,"div",24),m["\u0275\u0275text"](15,"\n      "),m["\u0275\u0275elementEnd"]()}if(2&e){var i=m["\u0275\u0275nextContext"](3);m["\u0275\u0275advance"](7),m["\u0275\u0275textInterpolate1"](" ",m["\u0275\u0275pipeBind1"](8,3,"violations-all.doPenaltiy"),""),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngModel",i.text),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",i.doPenalty)}}function q(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275text"](1,"\n      "),m["\u0275\u0275template"](2,K,11,5,"ng-container",13),m["\u0275\u0275text"](3,"\n\n      "),m["\u0275\u0275template"](4,H,10,7,"ng-container",13),m["\u0275\u0275text"](5,"\n\n      "),m["\u0275\u0275template"](6,$,16,5,"div",16),m["\u0275\u0275text"](7,"\n    "),m["\u0275\u0275elementEnd"]()),2&e){var n=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",n.doPenalty),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",!n.doPenalty),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",n.doPenalty)}}function X(e,t){if(1&e&&(m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275text"](1,"\n  "),m["\u0275\u0275elementStart"](2,"div",6),m["\u0275\u0275text"](3,"\n    "),m["\u0275\u0275elementStart"](4,"div",7),m["\u0275\u0275text"](5,"\n      "),m["\u0275\u0275element"](6,"mat-icon",8),m["\u0275\u0275text"](7,"\n      "),m["\u0275\u0275elementStart"](8,"p"),m["\u0275\u0275text"](9),m["\u0275\u0275pipe"](10,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](11,"\n    "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](12,"\n    "),m["\u0275\u0275elementStart"](13,"div",9),m["\u0275\u0275text"](14,"\n      "),m["\u0275\u0275template"](15,z,6,4,"p",10),m["\u0275\u0275text"](16,"\n    "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](17,"\n    "),m["\u0275\u0275element"](18,"div",11),m["\u0275\u0275text"](19,"\n    "),m["\u0275\u0275text"](20,"\n    "),m["\u0275\u0275template"](21,N,1,3,"app-description-violations",12),m["\u0275\u0275text"](22,"\n\n    "),m["\u0275\u0275text"](23,"\n    "),m["\u0275\u0275template"](24,Y,1,3,"app-description-violations",12),m["\u0275\u0275text"](25,"\n\n    "),m["\u0275\u0275text"](26,"\n    "),m["\u0275\u0275template"](27,B,1,3,"app-description-violations",12),m["\u0275\u0275text"](28,"\n\n    "),m["\u0275\u0275template"](29,q,8,3,"div",13),m["\u0275\u0275text"](30,"\n  "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](31,"\n"),m["\u0275\u0275elementContainerEnd"]()),2&e){var n=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](9),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](10,6,n.service.cid+".details.header")),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("ngForOf",n.titles),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("ngIf",null==n.response?null:n.response.violation),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",null==n.response?null:n.response.response),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",null==n.response?null:n.response.penalty),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",n.showPenaltySection)}}function Q(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",27),m["\u0275\u0275text"](1,"\n  "),m["\u0275\u0275elementStart"](2,"button",28),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().closeModal()})),m["\u0275\u0275text"](3,"\n    \u062a\u0645\n  "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](4,"\n"),m["\u0275\u0275elementEnd"]()}}function U(e,t){1&e&&(m["\u0275\u0275text"](0,"\n  "),m["\u0275\u0275elementStart"](1,"div",29),m["\u0275\u0275text"](2,"\n    "),m["\u0275\u0275elementStart"](3,"div",30),m["\u0275\u0275text"](4,"\n      "),m["\u0275\u0275element"](5,"mat-spinner",31),m["\u0275\u0275text"](6,"\n    "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](7,"\n  "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](8,"\n")),2&e&&(m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("diameter",60))}var W,Z,ee,te=((Z=function(){function e(t,n,i,a,r,o,s){_classCallCheck(this,e),this.dialogData=t,this.service=n,this.currentService=i,this.shared=a,this.toArabic=r,this.toastr=o,this.translateService=s,this.alive=!0,this.text="",this.titles=[{name:"address",value:"address"},{name:"created_at",value:"created_at"},{name:"contractor_name",value:"contractor_name"},{name:"supervisor_name",value:"supervisor_name"}],this.id=t.data.id,this.districtName=t.data.district_name,this.neighborhoodName=t.data.neighborhood_name,this.showPenaltySection=t.showPenaltySections}return _createClass(e,[{key:"ngOnInit",value:function(){this.getData()}},{key:"doActions",value:function(e){"accept"===e&&this.accept(),"penalty"===e&&this.penalty()}},{key:"accept",value:function(){var e=this;this.loaded=!1,this.service.acceptViolation("mob/admin/tickets/"+this.id+"/status",{status:"APPROVED"}).pipe(Object(I.a)((function(){return e.alive}))).subscribe((function(t){e.loaded=!0,e.closeModal();var n=e.currentService.resourcesList.data.reverse().find((function(t){return t.id===e.id}));e.currentService.resourcesList.data.splice(n,1),e.toastr.success(e.translateService.instant("violations-all.done"),e.translateService.instant("violations-all.success"))}))}},{key:"penalty",value:function(){var e=this;""!==this.text.trim()&&(this.loaded=!1,this.service.doPenalty("mob/admin/tickets/"+this.id+"/response",{details:this.text.trim()}).pipe(Object(I.a)((function(){return e.alive}))).subscribe((function(t){e.loaded=!0,e.closeModal();var n=e.currentService.resourcesList.data.reverse().find((function(t){return t.id===e.id}));e.currentService.resourcesList.data.splice(n,1),e.toastr.success(e.translateService.instant("violations-all.done"),e.translateService.instant("violations-all.success"))}),(function(t){e.loaded=!0,e.toastr.error(t.error.message,e.translateService.instant("violations-all.error"))})))}},{key:"getData",value:function(){var e=this;this.loaded=!1,this.service.getData("mob/admin/tickets/"+this.id).pipe(Object(I.a)((function(){return e.alive})),Object(S.a)("data"),Object(j.a)((function(t){return e.refactorResponse(t)}))).subscribe((function(t){e.response=t,e.loaded=!0}))}},{key:"refactorResponse",value:function(e){var t=new Date(e.created_at),n=k(t).format("hh:mm:ss"),i=k(t).add(1,"day").format("DD/MM/YYYY");return e.created_at=this.toArabic.transform(i+" "+n)+" ",e.violation={details:e.details,images:e.media},e.penalty=Object.keys(e.penalty).length?e.penalty:null,e.response=Object.keys(e.response).length?e.response:null,e}},{key:"closeModal",value:function(){this.shared.dialog.closeAll()}},{key:"showTextArea",value:function(){this.doPenalty=!this.doPenalty}},{key:"ngOnDestroy",value:function(){this.alive=!1}}]),e}()).\u0275fac=function(e){return new(e||Z)(m["\u0275\u0275directiveInject"](h.a),m["\u0275\u0275directiveInject"](x),m["\u0275\u0275directiveInject"](E),m["\u0275\u0275directiveInject"](u.a),m["\u0275\u0275directiveInject"](f.a),m["\u0275\u0275directiveInject"](F.b),m["\u0275\u0275directiveInject"](y.d))},Z.\u0275cmp=m["\u0275\u0275defineComponent"]({type:Z,selectors:[["app-show-violation-details"]],decls:19,vars:5,consts:[["mat-dialog-title","","id","mat-dialog-title-0",1,"mat-dialog-title"],[1,"header"],[3,"click"],[4,"ngIf","ngIfElse"],["class","footer","mat-dialog-footer","",4,"ngIf"],["noData",""],["mat-dialog-content","",1,"content"],[1,"violations"],["svgIcon","legal-issue"],[1,"violations-content"],[4,"ngFor","ngForOf"],[1,"line"],[3,"header","details","images",4,"ngIf"],[4,"ngIf"],[1,"arabicFont"],[3,"header","details","images"],["class","doPenaltiy",4,"ngIf"],[1,"back",3,"click"],["svgIcon","arrow_forward",3,"ngStyle"],["mat-flat-button","","color","primary","cdkFocusInitial","",3,"disabled","click"],["mat-flat-button","","cdkFocusInitial","",1,"border",3,"click"],[1,"doPenaltiy"],["appearance","outline",1,"full-width","doPenaltiy-textarea"],["matInput","","rows","5",3,"ngModel","ngModelChange"],["class","penalty-actions footer",4,"ngIf"],[1,"penalty-actions","footer"],["mat-flat-button","","color","primary","cdkFocusInitial","",1,"ml-5",3,"disabled","click"],["mat-dialog-footer","",1,"footer"],["mat-flat-button","","color","primary","cdkFocusInitial","",3,"click"],[1,"spinner-container"],[1,"overlay-form"],[3,"diameter"]],template:function(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"h1",0),m["\u0275\u0275text"](1,"\n  "),m["\u0275\u0275elementStart"](2,"span",1),m["\u0275\u0275text"](3),m["\u0275\u0275elementStart"](4,"span"),m["\u0275\u0275text"](5),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](6,"\n  "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](7,"\n  "),m["\u0275\u0275elementStart"](8,"mat-icon",2),m["\u0275\u0275listener"]("click",(function(){return t.closeModal()})),m["\u0275\u0275text"](9,"close"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](10,"\n"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](11,"\n\n"),m["\u0275\u0275template"](12,X,32,8,"ng-container",3),m["\u0275\u0275text"](13,"\n\n"),m["\u0275\u0275template"](14,Q,5,0,"div",4),m["\u0275\u0275text"](15,"\n\n"),m["\u0275\u0275template"](16,U,9,1,"ng-template",null,5,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275text"](18,"\n")),2&e){var n=m["\u0275\u0275reference"](17);m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"]("\n    \u0645\u062e\u0627\u0644\u0641\u0629 ",t.districtName,"\n    "),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](t.neighborhoodName),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("ngIf",t.loaded)("ngIfElse",n),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",!t.showPenaltySection)}},directives:[h.i,M.a,a.t,h.f,a.s,P,a.w,D.d,L.b,A.c,A.g,T.b,V.c,V.s,V.v,R.c],pipes:[y.c],styles:["h1[_ngcontent-%COMP%]{position:relative}h1[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;left:35px;color:#707070;cursor:pointer}h1[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:#707070;font-size:20px;font-weight:700;padding:10px}h1[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px}.content[_ngcontent-%COMP%]{padding-right:160px;padding-left:160px}.content[_ngcontent-%COMP%]   .violations[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding-bottom:10px}.content[_ngcontent-%COMP%]   .violations[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-right:10px;font-size:20px;color:#707070;font-weight:700}.content[_ngcontent-%COMP%]   .violations[_ngcontent-%COMP%]   .end[_ngcontent-%COMP%]{align-self:flex-end;margin:auto auto auto 0;color:#3f2986;font-size:18px}.content[_ngcontent-%COMP%]   .violations[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:32px;width:32px;color:#3f2986!important;margin-left:10px}.content[_ngcontent-%COMP%]   .violations-content[_ngcontent-%COMP%]{padding-right:54px}.content[_ngcontent-%COMP%]   .violations-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;font-size:18px;font-weight:700}.content[_ngcontent-%COMP%]   .violations-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#707070;font-size:18px}.content[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{border:1px solid #707070;width:100%;opacity:.3;margin-bottom:20px}.footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-end;justify-content:flex-end;padding:10px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.border[_ngcontent-%COMP%]{border:1px solid}.penalty-actions[_ngcontent-%COMP%]{padding:10px}.ml-5[_ngcontent-%COMP%]{margin-left:5px}.doPenaltiy-textarea[_ngcontent-%COMP%]{margin-top:15px}.back[_ngcontent-%COMP%]{color:#3f2986;cursor:pointer}"]}),Z),ne=((W=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,i,a,r)).toArabic=o,s.searchKey="keyword",s.permissionsKey="device",s}return _createClass(n,[{key:"routerPrefix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e||"violations-all"}},{key:"apiRouterPrefix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e||"mob/admin/tickets"}},{key:"refactorItem",value:function(e){return e}},{key:"refactorFormBeforeSubmit",value:function(e){return e}},{key:"listPrepareOperations",value:function(e){var t=this;_get(_getPrototypeOf(n.prototype),"listPrepareOperations",this).call(this,e);var i={APPROVED:{name:"\u0645\u0642\u0628\u0648\u0644\u0629",value:!0},PENALTY:{name:"\u0639\u0642\u0648\u0628\u0629",value:!1}};return e.data.forEach((function(e){var n=i[e.status].value,a=new Date(e.created_at),r=k(a).format("hh:mm"),o=k(a).format("DD/MM/YYYY");o=o.split("/").reverse().join("/"),e.created_at=""+t.toArabic.transform(o),e.time=""+t.toArabic.transform(r),e.active={name:i[e.status].name,value:n,icon:"fiber_manual_record",style:{color:n?"#42B852":"#DD3A2E"}}})),e}},{key:"featureProps",get:function(){return[{name:"district_name",prop:"district_name",list:{sortable:!0,searchable:!0,filterFieldType:"text",cellInnerCssClass:"arabicFont",action:{name:"showPermissionsDetails"}}},{name:"neighborhood_name",prop:"neighborhood_name",list:{sortable:!0,searchable:!0,filterFieldType:"text"}},{name:"created_at",prop:"created_at",list:{sortable:!0,searchable:!0,filterFieldType:"text"}},{name:"time",prop:"time",list:{sortable:!0,searchable:!0,cellCssClass:"ltr",filterFieldType:"text"}},{name:"contractor_name",prop:"contractor_name",list:{sortable:!0,searchable:!0,filterFieldType:"text"}},{name:"inspector_name",prop:"inspector_name",list:{sortable:!0,searchable:!0,filterFieldType:"text"}},{name:"status",prop:"active.name",list:{sortable:!0,searchable:!0,displayType:"text_with_icon",filterFieldType:"text",icon:{name:"active.icon",style:"active.style",beforeText:!0}}}]}}]),n}(c.a)).\u0275fac=function(e){return new(e||W)(m["\u0275\u0275inject"](o.d),m["\u0275\u0275inject"](p.a),m["\u0275\u0275inject"](d.a),m["\u0275\u0275inject"](u.a),m["\u0275\u0275inject"](f.a))},W.\u0275prov=m["\u0275\u0275defineInjectable"]({token:W,factory:W.\u0275fac,providedIn:"root"}),W),ie=n("wu0n"),ae=((ee=function(){function e(t,n,i,a){_classCallCheck(this,e),this.service=t,this.router=n,this.violationCurrent=i,this.violationsAll=a,this.carts=[]}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"tabClicked",value:function(e){if("all-violation"===e.name){this.violationsAll.customData.filters={};var t=this.violationsAll.refactorFilters(_defineProperty({},e.filter,e.value));this.violationsAll.filter(t),this.violationsAll.customData.filters=t}else{this.violationCurrent.customData.filters={};var n=this.violationCurrent.refactorFilters(_defineProperty({},e.filter,e.value));this.violationCurrent.filter(n),this.violationCurrent.customData.filters=n}}}]),e}()).\u0275fac=function(e){return new(e||ee)(m["\u0275\u0275directiveInject"](x),m["\u0275\u0275directiveInject"](o.d),m["\u0275\u0275directiveInject"](E),m["\u0275\u0275directiveInject"](ne))},ee.\u0275cmp=m["\u0275\u0275defineComponent"]({type:ee,selectors:[["app-violations-details"]],decls:11,vars:5,consts:[[1,"title"],[3,"tabs","service","tabClicked"]],template:function(e,t){1&e&&(m["\u0275\u0275text"](0,"\n"),m["\u0275\u0275elementStart"](1,"p",0),m["\u0275\u0275text"](2),m["\u0275\u0275pipe"](3,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](4,"\n\n"),m["\u0275\u0275text"](5,"\n"),m["\u0275\u0275elementStart"](6,"app-custom-tabs",1),m["\u0275\u0275listener"]("tabClicked",(function(e){return t.tabClicked(e)})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](7,"\n\n"),m["\u0275\u0275text"](8,"\n"),m["\u0275\u0275element"](9,"router-outlet"),m["\u0275\u0275text"](10,"\n")),2&e&&(m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](3,3,"violations.header")),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("tabs",t.service.customData.tabs)("service",t.service))},directives:[ie.a,o.i],pipes:[y.c],styles:[".title[_ngcontent-%COMP%]{font-size:20px;color:#707070;padding:10px 25px 10px 10px}"]}),ee),re=n("C3ze"),oe=n("jtS9"),se=n("XiUz"),le=n("EkSr"),ce=n("gpoT"),pe=n("CREh"),de=n("NhFE"),ue=function(e){return{headerSmallSize:e}};function fe(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",8),m["\u0275\u0275text"](1,"\n    "),m["\u0275\u0275elementStart"](2,"app-list-grid-options",9),m["\u0275\u0275listener"]("openForm",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().openForm({open:!0})})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](3,"\n  "),m["\u0275\u0275elementEnd"]()}if(2&e){var i=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction1"](4,ue,i.headerSmallSize)),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("listOptions",i.listOptions)("showTitle",i.showTitle)("service",i.service)}}function me(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",10),m["\u0275\u0275text"](1,"\n    "),m["\u0275\u0275element"](2,"app-pagination",11),m["\u0275\u0275text"](3,"\n  "),m["\u0275\u0275elementEnd"]()),2&e){var n=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("service",n.service)("options",n.listOptions)}}function ve(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",12),m["\u0275\u0275text"](1,"\n  "),m["\u0275\u0275elementStart"](2,"button",13),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().service.loadDummyData()})),m["\u0275\u0275text"](3,"\n    "),m["\u0275\u0275elementStart"](4,"mat-icon",14),m["\u0275\u0275text"](5,"\n      battery_unknown\n    "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](6,"\n  "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](7,"\n"),m["\u0275\u0275elementEnd"]()}}var xe,ge=((xe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,i,a,r,o)).listOptions=Object.assign(Object.assign({},s.listOptions),{exportList:!1,exportListWithOptions:!1,activate:!1,deactivate:!1,restore:!1,archive:!1,delete:!1,edit:!1,addAction:!1,hiddenEdit:!0,hiddenDelete:!0,checkFields:{activateField:"status",deactivateField:"status"},clone:!1,actionsCssClass:"action-thead",pagination:!1,infiniteScrolling:!0,infiniteScrollingHeight:"var(--listHeight)"}),s}return _createClass(n,[{key:"showDetails",value:function(e){this.openDialog(te,{data:e,showPenaltySections:!1})}},{key:"ngOnInit",value:function(){var e=this;return this.service.show$.pipe(Object(I.a)((function(){return e.alive}))).subscribe((function(t){e.showDetails(t)})),_get(_getPrototypeOf(n.prototype),"ngOnInit",this).call(this)}},{key:"refactorFilters",value:function(e){var t,i={};if(Object.keys(null===(t=this.service.customData)||void 0===t?void 0:t.filters).length)for(var a=this.service.customData.filters,r=0,o=Object.keys(a);r<o.length;r++){var s=o[r];"status"===s&&(i[s+"[]"]=a[s].split("-"))}return i=Object.assign(Object.assign({},e),i),_get(_getPrototypeOf(n.prototype),"refactorFilters",this).call(this,i)}}]),n}(re.a)).\u0275fac=function(e){return new(e||xe)(m["\u0275\u0275directiveInject"](ne),m["\u0275\u0275directiveInject"](oe.a),m["\u0275\u0275directiveInject"](o.d),m["\u0275\u0275directiveInject"](o.a),m["\u0275\u0275directiveInject"](h.b))},xe.\u0275cmp=m["\u0275\u0275defineComponent"]({type:xe,selectors:[["app-violations-all-current"]],features:[m["\u0275\u0275InheritDefinitionFeature"]],decls:23,vars:9,consts:[["fxFlex","","fxLayout","column",1,"core-list"],["fxFlex","","fxLayout","","class","page_heading list-grid-options","id","tableOptions",3,"ngClass",4,"ngIf"],["fxFlex","","fxLayout","row",1,"filter-section"],["fxFlex","100",3,"service","listOptions","params"],["fxFlex","","fxLayout","row","fxLayoutGap","20px",1,"container","list-grid-container"],[3,"columns","options","service","openForm"],["fxFlex","","fxLayout","row","fxLayoutGap","20px","fxLayoutAlign","end center","class","container list-grid-pagination",4,"ngIf"],["class","dummyDataLoader","id","dummyDataLoader",4,"ngIf"],["fxFlex","","fxLayout","","id","tableOptions",1,"page_heading","list-grid-options",3,"ngClass"],["fxFlex","",3,"listOptions","showTitle","service","openForm"],["fxFlex","","fxLayout","row","fxLayoutGap","20px","fxLayoutAlign","end center",1,"container","list-grid-pagination"],[3,"service","options"],["id","dummyDataLoader",1,"dummyDataLoader"],["mat-icon-button","",3,"click"],["color","warn"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275text"](1,"\n  "),m["\u0275\u0275template"](2,fe,4,6,"div",1),m["\u0275\u0275text"](3,"\n  "),m["\u0275\u0275elementStart"](4,"div",2),m["\u0275\u0275text"](5,"\n    "),m["\u0275\u0275element"](6,"app-list-multiple-operations",3),m["\u0275\u0275text"](7,"\n  "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](8,"\n  "),m["\u0275\u0275elementStart"](9,"div",4),m["\u0275\u0275text"](10,"\n    "),m["\u0275\u0275elementStart"](11,"app-list-grid",5),m["\u0275\u0275listener"]("openForm",(function(e){return t.openForm(e)})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](12,"\n  "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](13,"\n  "),m["\u0275\u0275template"](14,me,4,2,"div",6),m["\u0275\u0275text"](15,"\n  "),m["\u0275\u0275text"](16,"\n  "),m["\u0275\u0275text"](17,"\n  "),m["\u0275\u0275text"](18,"\n"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](19,"\n\n"),m["\u0275\u0275template"](20,ve,8,0,"div",7),m["\u0275\u0275text"](21,"\n"),m["\u0275\u0275text"](22,"\n")),2&e&&(m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",t.appListGridOptions),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("service",t.service)("listOptions",t.listOptions)("params",t.params),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("columns",t.columns)("options",t.listOptions)("service",t.service),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",!(null!=t.listOptions&&t.listOptions.infiniteScrolling)),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("ngIf",t.service.dummyDataLoader))},directives:[se.b,se.f,a.t,le.a,se.g,ce.a,a.q,D.a,pe.a,se.e,de.a,L.b,M.a],encapsulation:2}),xe),he=function(e){return{headerSmallSize:e}};function ye(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",8),m["\u0275\u0275text"](1,"\n    "),m["\u0275\u0275elementStart"](2,"app-list-grid-options",9),m["\u0275\u0275listener"]("openForm",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().openForm({open:!0})})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](3,"\n  "),m["\u0275\u0275elementEnd"]()}if(2&e){var i=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction1"](4,he,i.headerSmallSize)),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("listOptions",i.listOptions)("showTitle",i.showTitle)("service",i.service)}}function be(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",10),m["\u0275\u0275text"](1,"\n    "),m["\u0275\u0275element"](2,"app-pagination",11),m["\u0275\u0275text"](3,"\n  "),m["\u0275\u0275elementEnd"]()),2&e){var n=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("service",n.service)("options",n.listOptions)}}function Ce(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",12),m["\u0275\u0275text"](1,"\n  "),m["\u0275\u0275elementStart"](2,"button",13),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().service.loadDummyData()})),m["\u0275\u0275text"](3,"\n    "),m["\u0275\u0275elementStart"](4,"mat-icon",14),m["\u0275\u0275text"](5,"\n      battery_unknown\n    "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](6,"\n  "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](7,"\n"),m["\u0275\u0275elementEnd"]()}}var _e,Oe,we,Pe=((_e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,r,o,s){var l;return _classCallCheck(this,n),(l=t.call(this,e,i,a,r,o)).violationsService=s,l.listOptions=Object.assign(Object.assign({},l.listOptions),{exportList:!1,exportListWithOptions:!1,activate:!1,deactivate:!1,restore:!1,archive:!1,delete:!1,edit:!1,addAction:!1,hiddenEdit:!0,hiddenDelete:!0,checkFields:{activateField:"status",deactivateField:"status"},clone:!1,actionsCssClass:"action-thead",pagination:!1,infiniteScrolling:!0,infiniteScrollingHeight:"var(--listHeight)"}),l}return _createClass(n,[{key:"showDetails",value:function(e){this.openDialog(te,{data:e,showPenaltySections:!0})}},{key:"ngOnInit",value:function(){var e=this;return this.service.show$.pipe(Object(I.a)((function(){return e.alive}))).subscribe((function(t){e.showDetails(t)})),_get(_getPrototypeOf(n.prototype),"ngOnInit",this).call(this)}},{key:"refactorFilters",value:function(e){var t,i={};if(null===(t=this.service.customData)||void 0===t?void 0:t.filters)for(var a=this.service.customData.filters,r=0,o=Object.keys(a);r<o.length;r++){var s=o[r];"status"===s&&(i[s+"[]"]=a[s].split("-"))}return i=Object.assign(Object.assign({},e),i),_get(_getPrototypeOf(n.prototype),"refactorFilters",this).call(this,i)}}]),n}(re.a)).\u0275fac=function(e){return new(e||_e)(m["\u0275\u0275directiveInject"](E),m["\u0275\u0275directiveInject"](oe.a),m["\u0275\u0275directiveInject"](o.d),m["\u0275\u0275directiveInject"](o.a),m["\u0275\u0275directiveInject"](h.b),m["\u0275\u0275directiveInject"](x))},_e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:_e,selectors:[["app-violations-list-current"]],features:[m["\u0275\u0275InheritDefinitionFeature"]],decls:23,vars:9,consts:[["fxFlex","","fxLayout","column",1,"core-list"],["fxFlex","","fxLayout","","class","page_heading list-grid-options","id","tableOptions",3,"ngClass",4,"ngIf"],["fxFlex","","fxLayout","row",1,"filter-section"],["fxFlex","100",3,"service","listOptions","params"],["fxFlex","","fxLayout","row","fxLayoutGap","20px",1,"container","list-grid-container"],[3,"columns","options","service","openForm"],["fxFlex","","fxLayout","row","fxLayoutGap","20px","fxLayoutAlign","end center","class","container list-grid-pagination",4,"ngIf"],["class","dummyDataLoader","id","dummyDataLoader",4,"ngIf"],["fxFlex","","fxLayout","","id","tableOptions",1,"page_heading","list-grid-options",3,"ngClass"],["fxFlex","",3,"listOptions","showTitle","service","openForm"],["fxFlex","","fxLayout","row","fxLayoutGap","20px","fxLayoutAlign","end center",1,"container","list-grid-pagination"],[3,"service","options"],["id","dummyDataLoader",1,"dummyDataLoader"],["mat-icon-button","",3,"click"],["color","warn"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275text"](1,"\n  "),m["\u0275\u0275template"](2,ye,4,6,"div",1),m["\u0275\u0275text"](3,"\n  "),m["\u0275\u0275elementStart"](4,"div",2),m["\u0275\u0275text"](5,"\n    "),m["\u0275\u0275element"](6,"app-list-multiple-operations",3),m["\u0275\u0275text"](7,"\n  "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](8,"\n  "),m["\u0275\u0275elementStart"](9,"div",4),m["\u0275\u0275text"](10,"\n    "),m["\u0275\u0275elementStart"](11,"app-list-grid",5),m["\u0275\u0275listener"]("openForm",(function(e){return t.openForm(e)})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](12,"\n  "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](13,"\n  "),m["\u0275\u0275template"](14,be,4,2,"div",6),m["\u0275\u0275text"](15,"\n  "),m["\u0275\u0275text"](16,"\n  "),m["\u0275\u0275text"](17,"\n  "),m["\u0275\u0275text"](18,"\n"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](19,"\n\n"),m["\u0275\u0275template"](20,Ce,8,0,"div",7),m["\u0275\u0275text"](21,"\n"),m["\u0275\u0275text"](22,"\n")),2&e&&(m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",t.appListGridOptions),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("service",t.service)("listOptions",t.listOptions)("params",t.params),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("columns",t.columns)("options",t.listOptions)("service",t.service),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",!(null!=t.listOptions&&t.listOptions.infiniteScrolling)),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("ngIf",t.service.dummyDataLoader))},directives:[se.b,se.f,a.t,le.a,se.g,ce.a,a.q,D.a,pe.a,se.e,de.a,L.b,M.a],encapsulation:2}),_e),ke=[{path:"",component:ae,data:{title:Object(s.g)("inspector"),breadcrumb:"inspector",permissionsKeys:[{module:"inspector",key:"read-inspector"}]},canActivate:[l.a],children:[{path:"violations-current",component:Pe},{path:"violations-all",component:ge}]}],Ie=((we=function e(){_classCallCheck(this,e)}).components=[Pe,ge,ae,te,P],we.\u0275mod=m["\u0275\u0275defineNgModule"]({type:we}),we.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(e){return new(e||we)},imports:[[o.h.forChild(ke)],o.h]}),we),Se=((Oe=function e(){_classCallCheck(this,e)}).\u0275mod=m["\u0275\u0275defineNgModule"]({type:Oe}),Oe.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Oe)},imports:[[a.c,r.a,Ie]]}),Oe)}}]);